<!DOCTYPE html>
<html lang="en">
<head>
  <title>Explaining Calculator â€“ English & Luganda</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f4f8;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 50px;
    }

    h2 {
      color: #333;
      text-align: center;
    }

    .calculator {
      background: #fff;
      padding: 25px 30px;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      max-width: 350px;
      width: 100%;
    }

    input, select, button {
      width: 100%;
      margin-top: 10px;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 8px;
      outline: none;
    }

    button {
      background-color: #4CAF50;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:hover {
      background-color: #45a049;
    }

    #result {
      margin-top: 15px;
      font-size: 18px;
      font-weight: bold;
      color: #333;
    }

    #explanation {
      font-size: 15px;
      margin-top: 5px;
      color: #666;
    }

    .lang-switch {
      background: #0078D7;
      color: white;
      font-weight: bold;
      padding: 8px 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-bottom: 20px;
    }

    .lang-switch:hover {
      background: #005fa3;
    }
  </style>
</head>
<body>
  <h2 id="title">ðŸ§® Explaining Calculator</h2>
  <button class="lang-switch" onclick="toggleLanguage()">Switch to Luganda ðŸ‡ºðŸ‡¬</button>

  <div class="calculator">
    <input type="number" id="num1" placeholder="First number">
    <select id="operation">
      <option value="+">+</option>
      <option value="-">âˆ’</option>
      <option value="*">Ã—</option>
      <option value="/">Ã·</option>
    </select>
    <input type="number" id="num2" placeholder="Second number">
    <button id="calcBtn" onclick="calculate()">Calculate</button>

    <h3 id="result"></h3>
    <p id="explanation"></p>
  </div>

  <script>
    let currentLang = 'en'; // Default English

    function toggleLanguage() {
      if (currentLang === 'en') {
        currentLang = 'lg';
        document.getElementById('title').innerText = "ðŸ§® Kalikulata eyâ€™Ebyâ€™okunnyonnyola";
        document.querySelector('.lang-switch').innerText = "Switch to English ðŸ‡¬ðŸ‡§";
        document.getElementById('num1').placeholder = "Ennamba esooka";
        document.getElementById('num2').placeholder = "Ennamba eyokubiri";
        document.getElementById('calcBtn').innerText = "Bala";
      } else {
        currentLang = 'en';
        document.getElementById('title').innerText = "ðŸ§® Explaining Calculator";
        document.querySelector('.lang-switch').innerText = "Switch to Luganda ðŸ‡ºðŸ‡¬";
        document.getElementById('num1').placeholder = "First number";
        document.getElementById('num2').placeholder = "Second number";
        document.getElementById('calcBtn').innerText = "Calculate";
      }

      // clear output when switching
      document.getElementById('result').innerText = "";
      document.getElementById('explanation').innerText = "";
    }

    function calculate() {
      const a = parseFloat(document.getElementById('num1').value);
      const b = parseFloat(document.getElementById('num2').value);
      const op = document.getElementById('operation').value;
      let result, explanation;

      if (isNaN(a) || isNaN(b)) {
        result = "Error";
        explanation = currentLang === 'en'
          ? "Please enter valid numbers."
          : "Bambi tekamu ennamba entuufu.";
      } else if (op === '+') {
        result = a + b;
        explanation = currentLang === 'en'
          ? `We are adding ${a} and ${b} to get ${result}.`
          : `Tugattako ${a} ne ${b} okusobola okufuna ${result}.`;
      } else if (op === '-') {
        result = a - b;
        explanation = currentLang === 'en'
          ? `We are subtracting ${b} from ${a} to get ${result}.`
          : `Tukyuusamu ${b} okuva ku ${a} okusobola okufuna ${result}.`;
      } else if (op === '*') {
        result = a * b;
        explanation = currentLang === 'en'
          ? `We are multiplying ${a} by ${b} to get ${result}.`
          : `Tukyazisa ${a} ne ${b} okusobola okufuna ${result}.`;
      } else if (op === '/') {
        if (b === 0) {
          result = "Error!";
          explanation = currentLang === 'en'
            ? "Cannot divide by zero."
            : "Tosobola okugabanya ku zero.";
        } else {
          result = a / b;
          explanation = currentLang === 'en'
            ? `We are dividing ${a} by ${b} to get ${result}.`
            : `Tugabanya ${a} ku ${b} okusobola okufuna ${result}.`;
        }
      }

      document.getElementById('result').innerText = 
        currentLang === 'en' ? `Result: ${result}` : `Obubonero: ${result}`;
      document.getElementById('explanation').innerText = explanation;

      // Speak result and explanation
      const speechText = 
        currentLang === 'en' 
        ? `Result: ${result}. ${explanation}` 
        : `Obubonero: ${result}. ${explanation}`;
      
      const speech = new SpeechSynthesisUtterance(speechText);
      speech.rate = 1;
      speech.pitch = 1;
      speech.lang = currentLang === 'en' ? 'en-GB' : 'lg-UG'; // English & Luganda (approx)
      
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(speech);
    }
  </script>
</body>
</html>
